h1. MorePaginate

Provide a Twitter-like pagination for Rails


h2. Example

For a full working example, please visit "more_paginate_example":http://github.com/jodosha/more_paginate_example repository.

<code>
!# app/models/tweet.rb
class Tweet < ActiveRecord::Base
  belongs_to :person
  def self.paginate_by_creation_date(params)
    paginate :all,
      :sort_key   => params[:sort_key] || "created_at",
      :sort_value => params[:sort_value],
      :sort_id    => params[:sort_id],
      :sort_order => "desc",
      :include    => :person
  end
end
</code>

<code>
!# app/controllers/tweets_controller.rb
class TweetsController < ApplicationController
  def index
    @tweets = Tweet.paginate_by_creation_date params.dup
    respond_to do |format|
      format.html
      format.js { render :partial => "tweet_list" }
    end
  end
end
</code>

<code>
!# app/views/tweets/index.html.erb
<h1>Tweets</h1>
<div id="tweets">
  <%= render "tweet_list" %>
<//div>
</code>

!# app/views/tweets/_tweet_list.html.erb
<code>
<ol class="tweetList">
<% @tweets.each do |tweet| -%>
  <li class="tweet">
    <%= avatar tweet.person %>
    <%= link_to h(tweet.person.nickname), person_path(tweet.person), :class => "bold" %>
    <%= truncate h(tweet.text), :length => 140 %><br />
    <span class="time"><%= link_to tweet.created_at.to_s(:db), tweet_path(tweet) %></span>
  <//li>
<% end -%>
<//ul>
<%= more_paginate @tweets %>
</code>

!# public/javascripts/application.js
<code>
$(document).ready(function() {
  $("#more_link").morePaginate({ container: "#tweets" });
});
</code>

h1. Copyright

Copyright (c) 2009 "Luca Guidi":http://lucaguidi.com, released under the MIT license.
